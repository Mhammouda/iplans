 
 {% include 'liste_routeur/head.html' %}
   

 {% for message in messages %}
  
 <div class="alert {{ message.tags }} alert" role="alert" >
  <span class="alert-icon"><span class="visually-hidden">Success</span></span>
  <p> {{ message }}</p>
</div>
{% endfor %}



  <div class="container">
    
        <div class="col">
    <h1> <span class="badge badge-warning">CREATION VRF</span></h1>

       <form method="POST" class="mb-3">
          {% csrf_token %}

          <div class="form-check form-check-inline" name="choix">
            <input class="form-check-input" type="radio"   value="option1" name="vpn">
            <label class="form-check-label" for="inlineCheckbox1">Internet_vpn</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio"   name="vpn" value="option2">
            <label class="form-check-label" for="inlineCheckbox2">Voice_vpn</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio"   name="vpn" value="option3">
            <label class="form-check-label" for="inlineCheckbox2">CCTV_Wimax</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio"   name="vpn" value="option4">
            <label class="form-check-label" for="inlineCheckbox2">MonitoringB2B_vpn</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio"   name="vpn" value="option5">
            <label class="form-check-label" for="inlineCheckbox2">ALL VPN</label>
          </div>
          <table class="table table-dark table-bordered" style="width:100%">

                 {{form}}


          </table>
           <button type="submit" class="btn btn-primary btn-sm" ><h7 class="fw-bold  " >Send Command <i class="bi bi-printer"></i></button>
       </form>

       <h1> <span class="badge badge-warning">CONFIG SHOW</span></h1>
       <p class="original" style=" height:200px;" rows="10" cols="20" name="conf" form="conf" id="conf">{{result}}</p>


        
       <h1> <span class="badge badge-warning">CONFIG SHOW</span></h1>
 
                  <textarea style="width:500px; height:500px" class="cut" id="text" width="200px" height="400px"></textarea><br>
                  <button  type="button" id="btn" class="btn btn-success btn-sm">
                    <i class="bi bi-file-earmark-font"></i><h7 class="fw-bold  " >Upload</button>
</div>
</div>
        </div>

      </div>
    </div>


        <script type="text/javascript">
        $(document).ready(function(){
        const  str = $(".original").text();
        const regex = /'/gm;
        const regexx = /,/gm;
        const regexxx=/#/gm;
        var cut = str.replace("[", "").replace("]", "").replace(regex, "").replace(regexx , "\n").replace(regexxx , "");



        $(".cut").html(cut);

        });
        </script>



        <div>



<script>
            function download(file, text) {

                //creating an invisible element
                var element = document.createElement('a');
                element.setAttribute('href',
                'data:text/plain;charset=utf-8, '
                + encodeURIComponent(text));
                element.setAttribute('download', file);

                // Above code is equivalent to
                // <a href="path of file" download="file name">

                document.body.appendChild(element);

                //onClick property
                element.click();

                document.body.removeChild(element);
            }

            // Start file download.
            document.getElementById("btn")
            .addEventListener("click", function() {
                // Generate download of hello.txt
                // file with some content
                var text = document.getElementById("text").value;
                var filename = "Update_Debit_B2B.txt";

                download(filename, text);
            }, false);
         </script>



</body>
</html>
